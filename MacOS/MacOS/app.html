<html>
  <head>
    <title>MyApp -- (edit this title in app.html)</title>
    <style>
      body {
        font-family: -apple-system, 'Segoe UI Light', Ubuntu, Arial, sans-serif;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="app.css"/>
    <script src="app.js"></script>
  </head>
  <body onload="LoadPorts();">
    <div class="parent-container">
      <div class="toolbar">
        <button onclick="GetOptions();">Connect</button>
        <button onclick="LoadPorts();">Refresh Ports</button>
      </div>
      <div>
        <div class="column">
          <div class="contain">
        <form id="modbus-form">
            <p class="section-header">Settings</p>
            <div class="settingsContainer">
              <div class="settings">
                <label for="serialPort">Serial Port</label>

                <select id="serialPort" name="serialPort"></select>
              </div>
              <div class="settings">
                <label for="baudRate">Baud</label>

                <select id="baudRate" name="baudRate">
                  <option type="number" value="1200">1200</option>
                  <option type="number" value="2400">2400</option>
                  <option type="number" value="4800">4800</option>
                  <option type="number" value="9600">9600</option>
                  <option type="number" value="19200">19200</option>
                  <option type="number" value="38400">38400</option>
                  <option type="number" value="57600">57600</option>
                  <option type="number" value="115200">115200</option>
                </select>
              </div>
              <div class="settings">
                <label for="dataBits">Data Bits</label>

                <select id="dataBits" name="dataBits">
                  <option value="7">7</option>
                  <option value="8">8</option>
                </select>
              </div>
              <div class="settings">
                <label for="stopBits">Stop Bits</label>

                <select id="stopBits" name="stopBits">
                  <option value="0">0</option>
                  <option value="1">1</option>
                </select>
              </div>
              <div class="settings">
                <label for="parity">Parity</label>

                <select id="parity" name="parity">
                  <option value="N">None</option>
                  <option value="E">Even</option>
                  <option value="O">Odd</option>
                </select>
              </div>
            </div>
<!--            <div style="float: right;">-->
<!--                        <button onclick="GetOptions();">Connect</button>-->
<!--                        <button onclick="LoadPorts();">Refresh Ports</button>-->
<!--            </div>-->
          </div>

          <div class="contain">
            <p class="section-header">Modbus Request</p>

            <div class="settingsContainer">
              <div class="settings">
                <label for="slaveId">Slave ID</label>
                
                <input type="number" id="slaveId" min="0" name="slaveId" required></input>
              </div>
              <div class="settings">
                <label for="functionCode">Function Code</label>
                
                <select id="functionCode" name="functionCode" required>
                        <option value="01">Read Coils (0x01)</option>
                        <option value="02">Read Discrete Inputs (0x02)</option>
                        <option value="03">Read Multiple Holding Registers (0x03)</option>
                        <option value="04">Read Input Registers (0x04)</option>
                        <option value="05">Write Single Coil (0x05)</option>
                        <option value="06">Write Single Holding Register (0x06)</option>
                        <option value="0E">Write Multiple Coils (0x0E)</option>
                        <option value="10">Write Multiple Holding Registers (0x10)</option>
                        <option value="16">Mark Write Register (0x16)</option>
                </select>
              </div>
              <div class="settings">
                <label for="startAddr">Start address</label>
                
                <input type="number" id="startAddr" min="0" name="startAddr" required></input>
              </div>
              <div class="settings">
                <label for="numCoils">Num. coils</label>
                
                <input type="number" id="numCoils" min="0" name="numCoils" required></input>
              </div>
            </div>
            <div style="display: flex; flex-direction: row-reverse; align-items: center;">
                <p style="font-size: 60%">Display Hex Data</p>
                <input type="checkbox" name="hex-data-checkbox" value="display-hex-data" checked="checked"
                    style="padding-top: 3px;"></input>
            </div>

            <div class="settingsContainer">
    
                    <input type="text" disabled="true" id="hex-data" style="width: max-width"></input>
                    <div style="float: right">
                        <input type="submit" value="Send"></input>
                    </div>
            </div>
            </form>
          </div>

          <div class="contain">
            <p class="section-header">Registers</p>
            <div class="table-contain">
              <table>
                <thead>
                  <tr>
                    <th>Data type</th>
                    <th>Register</th>
                    <th>Data</th>
                  </tr>
                </thead>
                <tbody>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                    <tr>
                            <td>Cell1</td>
                            <td>Cell2</td>
                    </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="contain">
            <p class="section-header">Bus Monitor</p>
            <div>
            </div>
            <div style="margin: 10px; width: 95%; padding: 3px;">
                <p class="table-header">Raw Data Received:</p>
                <button style="float: right">Clear</button></thead>
                </div>
            <div class="table-contain">

              <table>
                  <thead>

                <tbody>
                </tbody>
              </table>
            </div>
    
            <hr />
            <div style="margin: 10px; width: 95%; padding: 3px;">
                <p class="table-header">Modbus requests/responses:</p>
                <button style="float: right">Clear</button>
            </div>
              <div class="table-contain">
                <table>
                  <thead>
                    <tr>
                      <th>I/O</th>
                      <th>Slave ID</th>
                      <th>Function code</th>
                      <th>Start address</th>
                      <th>Num coils</th>
                      <th>CRC</th>
                    </tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
